///////////////////////////////////////////////////////////////////////////////
// AbortProcess

#include <stdio.h>
#include <windows.h>
#include <stdlib.h>
#include <process.h>
#include <time.h>

//==========================================================================================
extern "C"
{

#include <Kutlstr.h>
#include <Kutltime.h>
#include "cimseqnc.h"
#include "iodefine.h"

} // End of [extern "C"]
//==========================================================================================


//--------------------------------------------------------------------
#ifndef _DEBUG
// #define _DEBUG
#endif

//------------------------------------------------------------------------------------------
#define APP_NAME	"IOMonitor"

//------------------------------------------------------------------------------------------
#include "IOMonitor.h"
CIOMonitor g_IOMonitor;

//------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------

IO_Name_String_Map IO_STR_Map_Table[] = {
	""
};

//------------------------------------------------------------------------------------------

char g_szConfigFile[256] = ".\\Parameter\\IOMonitor\\IOMonConfig.ini";

//------------------------------------------------------------------------------------------
// Thread Type Definition for Using thread

typedef void(__cdecl * _THREAD_FUNC)(void* lpParam);
enum { THREAD_STOP, THREAD_RUN, THREAD_FAILED };

//==========================================================================================
extern "C"
{

//------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------

Module_Status Program_Main() {
	Module_Status msRet = SYS_SUCCESS;
	// printf("Entered %s\n", APP_NAME);




	// printf("Leaved %s\n", APP_NAME);
	return msRet;
}

//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
void Screen_Nav_Info( int no ) {
	if(no == -1)
	{
		// Deinitialize
		g_IOMonitor.Deinitialize();
	}
}
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
void Program_Enter_Code() {
	char szParam[256];

	strcpy(szParam, PROGRAM_ARGUMENT_READ());
	SYSTEM_KILL_WITH_MESSAGE();
	if(strlen(szParam) > 1) strcpy(g_szConfigFile, szParam);
}
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
//---------------------------------------------------------------------------------------
BOOL Program_Init_Code() {
	g_IOMonitor.Initialize(g_szConfigFile, "f:\\datalog\\_Log\\IOMonitor\\IoLog.log");
	return TRUE;
}

} // End of [extern "C"]
//==========================================================================================
